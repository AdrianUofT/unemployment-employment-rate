---
title: "Are people really struggling to find a job?"
author: 
  - Adrian Ly
thanks: "Code and data are available at: [LINK](https://github.com/AdrianUofT/unemployment-employment-rate)"
date: today
date-format: long
abstract: "First sentence. Second sentence. Third sentence. Fourth sentence."
format: pdf
number-sections: true
bibliography: references.bib
toc: true
---

```{r}
#| include: false
#| warning: false
#| message: false

library(readr)
library(lubridate)
library(tidyverse)
library(dplyr)
library(tidyr)
library(knitr)
library(janitor)
library(scales)
library(RColorBrewer)
library(ggplot2)
library(kableExtra)
library(here)
library(arrow)

unemployed_data <- read.csv(here::here("data/analysis_data/cleaned_unemployed_data.csv"))
employed_data <- read.csv(here::here("data/analysis_data/cleaned_employed_data.csv"))
```


# Introduction



# Data 

## Data Measurement

## Data Analysis


# Model

The goal of our modeling strategy, utilizing multiple linear regression, is multifaceted:

- **Understanding Relationships**: To understand the relationship between several independent variables, such as education level and age groups, and the dependent variable, which in this context is the youth unemployment rates. The model is designed to isolate the effect of each variable on unemployment rates.

- **Quantifying Impact**: To quantify the impact of each predictor. Regression coefficients provide a numerical value that represents the expected change in the dependent variable for a one-unit change in an independent variable, all else being equal.

- **Predictive Analysis**: To develop a predictive framework that can be employed to estimate or forecast the outcome variable, in this case, unemployment rates, when provided with new data for the predictors.

- **Inferential Statistics**: To conduct hypothesis testing to ascertain whether the relationships observed within the data are statistically significant and not merely due to random variation.

- **Policy Decision Support**: To offer empirical evidence that may inform policy decisions. For instance, if a correlation is found between higher education levels and increased unemployment, it might indicate the necessity for policies that better align education with employment opportunities.

- **Data-Driven Insights**: To extract insights from the data that could lead to an enhanced understanding of labor market dynamics, such as how different age groups' unemployment rates interact.

- **Modeling Assumptions Testing**: To validate the assumptions underlying the regression model, ensuring the reliability and accuracy of the model's predictions.

- **Confounding Variable Control**: To account for potential confounders that might influence the relationship between education level and unemployment rates. The inclusion of relevant variables aims to minimize estimation bias.

- **Sensitivity Analysis**: To comprehend the model's sensitivity to changes in inputs, which assists in evaluating the robustness of the model.

This strategy is designed to produce a model that is both explanatory and predictive, offering a current snapshot of the relationships in the data as well as a tool for future forecasting. Such a model can be utilized to guide decision-making processes, or pinpoint where interventions may be effective.

## Model set-up


$$
\begin{aligned}
\text{Youth Unemployment} = \beta_0 &+ \beta_1 \cdot \text{Education Level} \\
&+ \beta_2 \cdot \text{Reference Period} \\
&+ \beta_3 \cdot \text{Adult Unemployment} \\
&+ \beta_4 \cdot \text{Senior Unemployment} + \epsilon
\end{aligned}
$$

Where:

- `Youth Unemployment` is the dependent variable we are trying to predict. These are generally categorized as people who are between the ages of 15-24.
- `Education Level` is an independent variable representing the level of education. (e.g., high school, undergraduate, postgraduate) 
- `Reference Period` is another independent variable that represents the time frame of the data collection (e.g., year).
- `Adult Unemployment` and `Senior Unemployment` are independent variables representing unemployment rates for adult and senior age groups, with people ages ranging between 25-44 and above 45, respectively.
- $\beta_0$ is the y-intercept, representing the expected value of `Youth Unemployment` when all the independent variables are 0.
- $\beta_1, \beta_2, \beta_3, \beta_4$ are the coefficients for each independent variable, representing the change in `Youth Unemployment` for a one-unit change in the respective independent variable, holding all other variables constant.
- $\epsilon$ represents the error term, accounting for the variability in `Youth Unemployment` not explained by the model.

This model aims to understand how various factors contribute to youth unemployment. The coefficients 
$\beta_1, \beta_2, \beta_3, \beta_4$ provide insights into the relationship between each independent variable and youth unemployment:

- $\beta_1$ tells us how changes in the education level might affect youth unemployment, holding other factors constant. A positive coefficient suggests that higher education levels are associated with higher youth unemployment rates, while a negative coefficient suggests the opposite.

- $\beta_2$ gives insight into how changes over the reference period (e.g., years) impact youth unemployment, which can help identify trends over time.

- $\beta_3$ and $\beta_4$ help understand how unemployment rates in other age groups (adults and seniors) are related to youth unemployment. This can reveal whether higher unemployment rates in these groups are associated with higher or lower youth unemployment rates.

The intercept $\beta_0$ provides the baseline level of youth unemployment when all other variables are zero, which may not always be a practical scenario but is necessary for the model's mathematical formulation. The error term $\epsilon$ captures the model's limitations and any random factors affecting youth unemployment that aren't included in the model.


## Model justification

The utilization of a multiple linear regression model for analyzing the relationship between people's unemployment status, age groups, and education level over time is substantiated by various rationales. Primarily, the model adeptly accommodates multiple independent variables such as education level and age group, each potentially exerting influence on the dependent variable, unemployment status. This capacity allows for an assessment of the individual impact of each predictor while simultaneously controlling for the influence of others. Such a model not only facilitates the quantification of the relationships between these factors and unemployment—via coefficients that express the extent of change in response per unit change in a predictor (with other variables held constant)—but also enables hypothesis testing on the parameters. This testing is instrumental in determining whether the associations between predictors and the response are statistically significant, thereby offering insights into the meaningfulness of these relationships.

# Results

Our results are summarized in @tbl-modelresults.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

library(rstanarm)

first_model <-
  readRDS(file = here::here("models/unemployed_model.rds"))
```

```{r}
#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Explanatory models of flight time based on wing width and wing length"
#| warning: false

modelsummary::modelsummary(
  list(
    "First model" = first_model
  )
)
```


```{r}
#| echo: false
#| eval: true
#| label: tbl-youth2019
#| tbl-cap: "Percentage Change in Youth Unemployment by education level (2019-2023)"
#| warning: false

# Filter data for the years 2019 and 2023
filtered_data <- unemployed_data %>%
  filter(reference_period %in% c(2019, 2023))

# Compare youth unemployment rate by education level for 2019 and 2023
comparison <- filtered_data %>%
  group_by(education_level, reference_period) %>%
  summarise(mean_unemployment = mean(youth_unemployment, na.rm = TRUE)) %>%
  pivot_wider(names_from = reference_period, values_from = mean_unemployment) %>%
  mutate(Percentage_Change = round((`2023` - `2019`)/`2019` * 100, 2)) %>%
  arrange(education_level)

kable(comparison)

```


```{r}
#| label: unempyouth
#| fig-cap: Youth Unemployment Rates
#| echo: false
#| warning: false
#| message: false

ggplot(unemployed_data, aes(x = reference_period, y = youth_unemployment, group = education_level, color = education_level)) +
  geom_line() +
  theme_minimal() +
  labs(title = "Youth Unemployment by Education Level Over Time",
       x = "Year",
       y = "Youth Unemployment Rate (%)") +
  scale_color_brewer(palette = "Set1")  

```


```{r}
#| label: unempadult
#| fig-cap: Adult Unemployment Rates
#| echo: false
#| warning: false
#| message: false

ggplot(unemployed_data, aes(x = reference_period, y = adult_unemployment, group = education_level, color = education_level)) +
  geom_line() +
  theme_minimal() +
  labs(title = "Adult Unemployment by Education Level Over Time",
       x = "Year",
       y = "Adult Unemployment Rate (%)") +
  scale_color_brewer(palette = "Set1")  

```


```{r}
#| label: unempsenior
#| fig-cap: Senior Unemployment Rates
#| echo: false
#| warning: false
#| message: false

ggplot(unemployed_data, aes(x = reference_period, y = senior_unemployment, group = education_level, color = education_level)) +
  geom_line() +
  theme_minimal() +
  labs(title = "Senior Unemployment by Education Level Over Time",
       x = "Year",
       y = "Senior Unemployment Rate (%)") +
  scale_color_brewer(palette = "Set1")  

```




# Discussion

## First discussion point

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage


# References


